"""Script to gather IMDB keywords from 2018's top grossing movies."""import sysimport requestsfrom bs4 import BeautifulSoupimport csvimport http.clientURL = "https://www.imdb.com/search/title?at=0&sort=boxoffice_gross_us,desc&start=1&year=2018"def get_top_grossing_movie_links(url):    """Return a list of tuples containing the top grossing movies of 2013 and link to their IMDB    page."""        response = requests.get(url)    movies_list = []    URL_LIST=BeautifulSoup(response.text,'html.parser')           for each_url in URL_LIST.select('div[class="lister-item-content"] a[href^="/title"]'):        movie_title = each_url.text              if movie_title != 'X':            movies_list.append((movie_title, each_url['href']))                                  return movies_listdef get_keywords_for_movie(url):    """Return a list of keywords associated with *movie*."""    keywords = []        response = requests.get(url)        soup = BeautifulSoup(response.text,'html.parser')    tables = soup.find_all('span', itemprop='genre')        for kwords in tables:        keywords.append(kwords.text)              return keywordsdef main():    """Main entry point for the script."""    movies = get_top_grossing_movie_links(URL)        with open('output.csv', 'w') as output:        csvwriter = csv.writer(output)        for title, url in movies:                        keywords = get_keywords_for_movie('https://www.imdb.com{}/keyword/'.format(url))                        csvwriter.writerow([title, keywords])if __name__ == '__main__':    sys.exit(main())